# Лабораторная работа №1

Форма сдачи лабораторной работы:
- файл скрипта;
- файл с отчетом (`report.txt` из раздела `Логирование`);
- демонстрация работы.

## Задание

Разработать shell-скрипт, который выполняет анализ каталога с лог-файлами.

**Предварительно необходимо создать каталог и добавить туда заполненные лог-файлы (минимум 5 файлов).**

Пример лога:
```
2026-03-12 09:14:22 [INFO]  Service started successfully
2026-03-12 09:14:23 [DEBUG] Initializing configuration module
2026-03-12 09:14:24 [INFO]  Loading user data
2026-03-12 09:14:25 [WARN]  Configuration file not found, using defaults
2026-03-12 09:14:27 [INFO]  Connection established to database
2026-03-12 09:14:29 [ERROR] Failed to execute query: timeout
2026-03-12 09:14:30 [INFO]  Retrying database request
2026-03-12 09:14:31 [ERROR] Failed to execute query: timeout
2026-03-12 09:14:32 [INFO]  User login attempt: username=admin
2026-03-12 09:14:33 [ERROR] Authentication failed for user admin
2026-03-12 09:14:35 [INFO]  User login attempt: username=guest
2026-03-12 09:14:36 [INFO]  User authenticated successfully
2026-03-12 09:14:40 [DEBUG] Background task started
2026-03-12 09:14:41 [INFO]  Processing file report.log
2026-03-12 09:14:43 [ERROR] File read error: permission denied
2026-03-12 09:14:44 [INFO]  Background task completed
2026-03-12 09:14:50 [WARN]  Low memory detected
2026-03-12 09:14:55 [INFO]  Service stopped
```

### Входные параметры

Скрипт принимает два параметра:

```
./script.sh <каталог> <ключевое_слово>
```

### Требования к работе скрипта

#### Проверка входных параметров

- если параметров меньше двух – вывести сообщение об ошибке и завершить работу с кодом `1`;
- если каталог не существует – вывести ошибку и завершить работу с кодом `2`;
- если каталог существует, но пуст – вывести сообщение и завершить работу с кодом `3`.

#### Обработка файлов

Скрипт должен:
- найти файлы только с расширением `.log`;
- для каждого файла подсчитать количество строк и подсчитать количество вхождений ключевого слова.

#### Итоговая статистика

В конце вывести:
- общее количество обработанных файлов;
- общее количество строк;
- общее количество совпадений.

#### Логирование

Все результаты работы должны:
- выводиться на экран;
- одновременно записываться в файл `report.txt`.

Запрещается выполнять одну и ту же команду дважды ради записи в файл и на экран.
Нужно использовать перенаправление потоков.
